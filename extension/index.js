(()=>{"use strict";var e={700:(e,t,r)=>{var i=r(659);e.exports=function(e){(0,i.timekeeper)(e)}},860:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;var r=function(){function e(e){this.rawInSecond=e;var t=Math.floor(e/3600),r=Math.floor(e%3600/60),i=Math.floor(e%60),n=(t>0?t.toString().padStart(2,"0")+":":"")+r.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0");this.display=n}var t;return t=e,e.make=function(e){return new t(e)},e}();t.Time=r},561:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Timekeeper=void 0;var i=r(770),n=r(860),o=function(){function e(){var e=i.Run.new();e.pushSegment(i.Segment.new("Finish"));var t=i.Timer.new(e);if(!t)throw new Error("Failed to create livesplit timer!");this.livesplit=t}return e.prototype.start=function(){var e=this.livesplit.currentPhase();if(this.livesplit.start(),0!==e)throw new Error("This would be nothing happened. You need to reset to start timer.")},e.prototype.pause=function(){var e=this.livesplit.currentPhase();if(this.livesplit.pause(),1!==e)throw new Error("This would be nothing happened. You can pause timer only when it's running.");return this.currentTime},e.prototype.resume=function(){var e=this.livesplit.currentPhase();if(this.livesplit.resume(),3!==e)throw new Error("This would be nothing happened. You can resume timer only when it's paused.")},e.prototype.finish=function(){this.livesplit.split();var e=this.currentTime;return this.livesplit.reset(!1),e},Object.defineProperty(e.prototype,"status",{get:function(){switch(this.livesplit.currentPhase()){case 3:return"paused";case 1:return"in_progress";default:return"finished"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){var e=this.currentTimeSeconds;return n.Time.make(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTimeSeconds",{get:function(){var e;return(null===(e=this.livesplit.currentTime().realTime())||void 0===e?void 0:e.totalSeconds())||0},enumerable:!1,configurable:!0}),e}();t.Timekeeper=o},659:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timekeeper=void 0;var i=r(561);t.timekeeper=function(e){var t=e.bundleConfig.tickRateMs||100,r=e.Replicant("timekeeping",{defaultValue:{time:{display:"00:00",rawInSecond:0},status:"finished"}}),n=e.Replicant("history",{defaultValue:[]}),o=new i.Timekeeper;setInterval((function(){var e=o.currentTime,t=o.status;r.value={time:e,status:t}}),t),e.listenFor("start",(function(e,t){if(!t||!t.handled){try{o.start()}catch(e){t&&e instanceof Error&&t(e)}t&&t(null)}})),e.listenFor("pause",(function(e,t){if(!t||!t.handled)try{var r=o.pause();t&&t(null,r)}catch(e){t&&e instanceof Error&&t(e)}})),e.listenFor("resume",(function(e,t){if(!t||!t.handled){try{o.resume()}catch(e){t&&e instanceof Error&&t(e)}t&&t(null)}})),e.listenFor("finish",(function(e,t){var r,i;if(!t||!t.handled)try{var s=o.finish();r=s,i=new Date,n.value.push({time:r,finishedAt:i.valueOf()}),t&&t(null,s)}catch(e){t&&e instanceof Error&&t(e)}})),e.listenFor("reset-history",(function(e,t){t&&t.handled||(n.value=[],t&&t(null))}))}},770:e=>{e.exports=require("livesplit-core")}},t={},r=function r(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,r),o.exports}(700);module.exports=r})();