(()=>{"use strict";var e={700:(e,t,i)=>{var r=i(659);e.exports=function(e){(0,r.timekeeper)(e)}},860:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;var i=function(){function e(e){this.rawInSecond=e;var t=Math.floor(e/3600),i=Math.floor(e%3600/60),r=Math.floor(e%60),n=(t>0?t.toString().padStart(2,"0")+":":"")+i.toString().padStart(2,"0")+":"+r.toString().padStart(2,"0");this.display=n}var t;return t=e,e.make=function(e){return new t(e)},e}();t.Time=i},561:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Timekeeper=void 0;var r=i(770),n=i(860),s=function(){function e(e){var t=r.Run.new();t.pushSegment(r.Segment.new("Finish"));var i=r.Timer.new(t);if(!i)throw new Error("Failed to create livesplit timer!");i.setLoadingTimes(r.TimeSpan.fromSeconds(0)),e&&e>0&&this.initExistsTime(i,e),i.initializeGameTime(),this.livesplit=i}return e.prototype.start=function(){var e=this.livesplit.currentPhase();if(this.livesplit.start(),this.livesplit.pause(),this.livesplit.setGameTime(r.TimeSpan.fromSeconds(0)),this.livesplit.resume(),0!==e)throw new Error("This would be nothing happened. You need to reset to start timer.")},e.prototype.pause=function(){var e=this.livesplit.currentPhase();if(this.livesplit.pause(),1!==e)throw new Error("This would be nothing happened. You can pause timer only when it's running.");return this.currentTime},e.prototype.resume=function(){var e=this.livesplit.currentPhase();if(this.livesplit.resume(),3!==e)throw new Error("This would be nothing happened. You can resume timer only when it's paused.")},e.prototype.finish=function(){this.livesplit.split();var e=this.currentTime;return this.livesplit.reset(!1),e},e.prototype.initExistsTime=function(e,t){return e.start(),e.pause(),e.setGameTime(r.TimeSpan.fromSeconds(t)),e},Object.defineProperty(e.prototype,"status",{get:function(){switch(this.livesplit.currentPhase()){case 3:return"paused";case 1:return"in_progress";default:return"finished"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){var e=this.currentTimeSeconds;return n.Time.make(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTimeSeconds",{get:function(){var e;return(null===(e=this.livesplit.currentTime().gameTime())||void 0===e?void 0:e.totalSeconds())||0},enumerable:!1,configurable:!0}),e}();t.Timekeeper=s},659:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timekeeper=void 0;var r=i(561);t.timekeeper=function(e){var t=e.bundleConfig.tickRateMs||100,i=e.Replicant("timekeeping",{defaultValue:{time:{display:"00:00",rawInSecond:0},status:"finished"}}),n=e.Replicant("history",{defaultValue:[]}),s=new r.Timekeeper(i.value.time.rawInSecond);"in_progress"===i.value.status&&s.resume(),setInterval((function(){var e=s.currentTime,t=s.status;i.value={time:e,status:t}}),t),e.listenFor("start",(function(e,t){if(!t||!t.handled){try{s.start()}catch(e){t&&e instanceof Error&&t(e)}t&&t(null)}})),e.listenFor("pause",(function(e,t){if(!t||!t.handled)try{var i=s.pause();t&&t(null,i)}catch(e){t&&e instanceof Error&&t(e)}})),e.listenFor("resume",(function(e,t){if(!t||!t.handled){try{s.resume()}catch(e){t&&e instanceof Error&&t(e)}t&&t(null)}})),e.listenFor("finish",(function(e,t){var i,r;if(!t||!t.handled)try{var o=s.finish();i=o,r=new Date,n.value.push({time:i,finishedAt:r.valueOf()}),t&&t(null,o)}catch(e){t&&e instanceof Error&&t(e)}})),e.listenFor("reset-history",(function(e,t){t&&t.handled||(n.value=[],t&&t(null))}))}},770:e=>{e.exports=require("livesplit-core")}},t={},i=function i(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,i),s.exports}(700);module.exports=i})();